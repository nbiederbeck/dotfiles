# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# -- .Xresources colors -- #
set $fullblack #000000
set_from_resource $black .color0
set $black #000000
set $gray #999999
set_from_resource $boldblack .color8
set_from_resource $red .color1
set_from_resource $boldred .color9
set_from_resource $green .color2
set_from_resource $boldgreen .color10
set_from_resource $yellow .color3
set_from_resource $boldyellow .color11
set_from_resource $blue .color4
set_from_resource $boldblue .color12
set_from_resource $magenta .color5
set_from_resource $boldmagenta .color13
set_from_resource $cyan .color6
set_from_resource $boldcyan .color14
set_from_resource $white .color7
set $white #efefef
set_from_resource $boldwhite .color15

workspace_layout tabbed  # default|stacking|tabbed
focus_follows_mouse true # true|false

# -- variables -- #
set $alt Mod1
set $mod Mod4
# set $win Mod4

set $bordersize 2
set $gapsize 0

font pango:Source Code Pro 8
# font pango:DejaVu Sans Mono 8

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod
floating_minimum_size 20x20
floating_maximum_size 1300x700
bindsym $mod+space focus mode_toggle

# start a webbrowser
bindsym $mod+shift+w exec ~/.config/i3/bin/wteb

# kill focused window
bindsym $mod+Shift+q kill

# # start rofi
# bindsym $mod+d exec i3-dmenu-desktop #kupfer
# bindsym $mod+Shift+d exec ~/.config/i3/bin/choose

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+u workspace prev
bindsym $mod+i workspace next

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# switch fullscreen windows
bindsym $mod+ctrl+h workspace prev
bindsym $mod+ctrl+l workspace next
bindsym $mod+ctrl+j workspace next
bindsym $mod+ctrl+k workspace prev

# split toggle
bindsym $mod+v split toggle

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# focus parent container
bindsym $mod+a focus parent
bindsym $mod+shift+a focus child

# change container layout (stacked, tabbed, toggle split)
# bindsym $mod+s layout stacking
bindsym $mod+t layout tabbed
bindsym $mod+s layout toggle split
for_window [workspace=$ws9] layout tabbed
for_window [class="VirtualBox"] floating enable
for_window [class="Mars"] floating enable
for_window [class="ROOT"] floating enable
for_window [class="feh"] floating enable

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

set $ws1  "1:i"
set $ws2  "2:II"
set $ws3  "3:iii"
set $ws4  "4:IV"
set $ws5  "5:v"
set $ws6  "6:VI"
set $ws7  "7:vii"
set $ws8  "8:VIII"
set $ws9  "9:ix"
set $ws10 "10:X"
set $ws_messenger $ws9
set $ws_mail $ws9

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10
bindsym $mod+Left workspace prev
bindsym $mod+Right workspace next

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

# move focused container to workspace and switch to that workspace
bindsym $mod+Ctrl+1 move container to workspace $ws1, workspace $ws1
bindsym $mod+Ctrl+2 move container to workspace $ws2, workspace $ws2
bindsym $mod+Ctrl+3 move container to workspace $ws3, workspace $ws3
bindsym $mod+Ctrl+4 move container to workspace $ws4, workspace $ws4
bindsym $mod+Ctrl+5 move container to workspace $ws5, workspace $ws5
bindsym $mod+Ctrl+6 move container to workspace $ws6, workspace $ws6
bindsym $mod+Ctrl+7 move container to workspace $ws7, workspace $ws7
bindsym $mod+Ctrl+8 move container to workspace $ws8, workspace $ws8
bindsym $mod+Ctrl+9 move container to workspace $ws9, workspace $ws9
bindsym $mod+Ctrl+0 move container to workspace $ws10, workspace $ws10

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# lock i3
bindsym $mod+e exec ~/.config/i3lock/exit_menu.sh
bindsym $mod+x exec ~/.config/i3lock/lock.sh

# resize windows
mode "resize" {
        bindsym h resize shrink width  5 px or 1 ppt
        bindsym j resize grow   height 5 px or 1 ppt
        bindsym k resize shrink height 5 px or 1 ppt
        bindsym l resize grow   width  5 px or 1 ppt
        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# hide borders when fullscreen
hide_edge_borders smart # none|vertical|horizontal|both|smart

bindsym $mod+Tab workspace back_and_forth
# bindsym $mod+Tab exec ~/.config/i3/bin/switch_workspace

# # MultiMediaKeys
# # bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5%
# bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5%
# bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle

# # Screen Brightness
# # bindsym XF86MonBrightnessUp exec xbacklight -inc 10
# bindsym XF86MonBrightnessDown exec xbacklight -dec 10
# bindsym Ctrl+XF86MonBrightnessUp exec xbacklight -set 100
# bindsym Ctrl+XF86MonBrightnessDown exec xbacklight -set 1

#  -- color windows --  #
#                       #border    #background #text      #indicator
client.focused          $black    $white     $black     $white
client.unfocused        $black     $black      $gray     $white
client.focused_inactive $black     $black      $white     $white
client.urgent           $red       $red        $black     $white

title_align center

# -- default borders -- #
default_border pixel $bordersize
default_floating_border normal
for_window [class=".*"] border pixel $bordersize
for_window [workspace=$ws7 class="MuPDF"] floating enable, border normal $bordersize
for_window [class="Surf"] border normal $bordersize
for_window [class="Tk"] floating enable, border normal $bordersize
for_window [class="matplotlib"] floating enable, border normal $bordersize
for_window [class=" "] floating enable, border pixel $bordersize

bindsym $mod+b mode "borders"
mode "borders" {
    # use window title, but no border
    bindsym t border normal 0, mode "default"
    # use window title with $bordersize pixel border
    bindsym a border normal $bordersize, mode "default"
    # use only border
    bindsym b border pixel $bordersize, mode "default"
    # use neither window title nor border
    bindsym n border none, mode "default"
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

#  -- bind programs to workspaces --  #
# 1) run `xprop`
# 2) click on program of choice
# 3) find `WM_CLASS(STRING)`
# 4) use second value to assign

assign [class="vlc"] $ws2

# Browser Workspace 4
assign [class="qutebrowser"] $ws4
assign [class="firefox-esr"] $ws4
assign [class="firefox"] $ws4
for_window [class="firefox" instance="Dialog"] move workspace current, focus
assign [class="Firefox"] $ws4
for_window [class="Firefox" instance="Dialog"] move workspace current, focus
assign [class="Midori"] $ws4

# Social Workspace 9
assign [class="Telegram"] $ws9
assign [class="TelegramDesktop"] $ws9
assign [class="Slack"] $ws9
assign [class="Mattermost"] $ws9
assign [class="Thunderbird"] $ws9
assign [class="Mailspring"] $ws9
assign [class="zoom"] $ws9


# -- odd workspaces on laptop screen -- #
workspace $ws1 output eDP1 DP1 DP2
workspace $ws3 output eDP1 DP1 DP2
workspace $ws5 output eDP1 DP1 DP2
workspace $ws7 output eDP1 DP1 DP2
workspace $ws9 output eDP1 DP1 DP2

workspace $ws2 output DP2-3 HDMI1 HDMI2
workspace $ws4 output DP2-3 HDMI1 HDMI2
workspace $ws6 output DP2-3 HDMI1 HDMI2
workspace $ws8 output DP2-3 HDMI1 HDMI2
workspace $ws10 output DP2-3 HDMI1 HDMI2

exec_always --no-startup-id ~/.autostart-i3

bar {
    i3bar_command /home/noah/.config/polybar/launch.sh
    # tray_output primary
    # status_command ~/.local/dotbin/i3-bar
    # # separator_symbol ":"
    # strip_workspace_numbers true
}
